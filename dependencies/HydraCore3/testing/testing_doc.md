# Документация на скрипт тестирования 'run_tests.py'

## Класс REQ

Класс `REQ` отвечает за проверку требований к рендер-системе. Он предоставляет интерфейс для запуска и проверки тестов, связанных с требованиями.

## Класс REQ_H2

Класс `REQ_H2` является производным классом от `REQ`. Он предназначен для запуска тестов из репозитория "HydraRepos/HydraAPI-tests". Ему на вход передается имя теста и массив имён тестов в этом репозитории: 'REQ_H2("mat_lambert_texture",  ["test_103"])'.

### Методы класса REQ_H2

#### `__init__(self, name, tests, imsize=(512,512), inregrators=["naivept","shadowpt","mispt"], naivemul=4)`

Конструктор класса `REQ_H2`. Он инициализирует объект `REQ_H2` с заданными параметрами.

**Параметры:**

- `name` (строка): Имя требования. Желетаельно чтобы оно совпадало с именем требования в pdf документе со списком всех требований.
- `tests` (список): Список тестов из репозитория "HydraRepos/HydraAPI-tests", которые нужно пройти чтобы требование считалось выполненным.
- `imsize` (кортеж) (опционально): Размер изображения (ширина, высота) для рендеринга. В текущей версии HydraCore3 требует, чтобы разрешение было специфицировано отдельно в командной строке, поэтому разрешение изображения нужно знать заранее.
- `inregrators` (список) (опционально): Список интеграторов, используемых во время тестирования. Некоторые сцены невозможно поссчитать корректно при помощи всех интеграторов. Например, каустики на сценах с идеально-зеркальными поверхностями не могут быть вычислениы при помощи 'shadowpt', a 'naivept' не умеет считать освещение с точесными источниками.
- `naivemul` (число) (опционально): Множитель для числа сэмплов в naivept. На некоторых сценах naive-pt считает довольно шумную картинку, поэтому это множитель надо выкручивать чтобы снизить уровень шума.

#### `test(req, gpu_id=0)`

Метод `test` выполняет тестирование требования.

**Параметры:**

- `gpu_id` (число) (опционально): Идентификатор графического процессора (GPU).

## Класс REQ_HX

Класс `REQ_HX` является производным классом от `REQ`. Он предназначен для запуска тестов, представленных в виде пар сцена-эталонное изображение. Ему на вход передаются массивы сцен (scn_path) и массивы эталонных изображений (ref_path).

### Методы класса REQ_HX

#### `__init__(self, name, scn_path, ref_path, imsize=[(1024,1024)], inregrators=["naivept","shadowpt","mispt"], naivemul=4)`

Конструктор класса `REQ_HX`. Он инициализирует объект `REQ_HX` с заданными параметрами.

**Параметры:**

- `name` (строка): Имя требования. Желетаельно чтобы оно совпадало с именем требования в pdf документе со списком всех требований.
- `scn_path` (список): Список путей к сценам.
- `ref_path` (список): Список путей к эталонным изображениям.
- `imsize` (список) (опционально): Список размеров изображений (ширина, высота) для рендеринга. В текущей версии HydraCore3 требует, чтобы разрешение было специфицировано отдельно в командной строке, поэтому разрешение изображения нужно знать заранее.
- `inregrators` (список) (опционально): Список интеграторов, используемых для рендеринга. Некоторые сцены невозможно поссчитать корректно при помощи всех интеграторов. Например, каустики на сценах с идеально-зеркальными поверхностями не могут быть вычислениы при помощи 'shadowpt', a 'naivept' не умеет считать освещение с точесными источниками.
- `naivemul` (число) (опционально): Множитель для наивного метода. На некоторых сценах naive-pt считает довольно шумную картинку, поэтому это множитель надо выкручивать чтобы снизить уровень шума.

### Проверка требований

Вы добавляете все необходимые требования в массив 'reqs', после чего начинается их автоматическая проверка.
